---
layout: post
title: 'JVM摘抄第六节'
date: 2019-2-20
author: mycclee
color: rgb(255,210,32)
cover: 'assets/background/desktop.png'
tags: java虚拟机
---

# 垃圾收集器
## 不同的代空间中均活跃着不同的GC

基于分代的概念，不同代空间中均活跃着不同的GC，比如**serial收集器**就是一个典型的新生代收集器，它主要
采用**复制算法**回收新生代无用对象的内存空间。  
JVM在实际运行过程中，新生代与老年代需要各自的GC**组合**在一起共同完成垃圾回收的任务。

## 串行回收与并行回收
### 串行回收
串行回收指的就是在同一短时间内只允许一件事发生，举个例子：当多个CPU可用时，也只能有一个CPU用于进行垃圾回收，
并且进行垃圾回收时，程序中的工作线程将被暂停，当垃圾回收完成时才能恢复之前暂停的线程。串行回收缺省的被应用在
Client模式下的JVM中。
### 并行回收
并行回收与串行回收相反，可以运行多个CPU同时执行垃圾回收，因此这也提升了应用程序的吞吐量，不过并行回收仍然使用了
**Stop-the-World机制**和复制算法。
### 并发回收与“Stop-the-World”机制
Stop-the-World机制：垃圾回收器会在内存中暂停所有的工作线程，直至完成内存回收，才会恢复之前被暂停的工作线程。
这一机制在新生代中运行是合理的，因为新生代空间较小，所以暂停的时间在合理的接受范围内。不过一旦应用于老年代的Full GC中时
程序的工作线程被暂停的时间将会更久，并且内存空间越大，执行Full GC的时间就越久。  
并发机制：同一时间内**工作线程**和**垃圾收集线程**将会同时运行和交叉运行。